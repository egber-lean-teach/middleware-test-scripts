"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractStopReason = extractStopReason;
const Logger_1 = require("../models/Logger");
const safeExtract_1 = require("./safeExtract");
function extractStopReason(response) {
    try {
        // Try to extract from different possible locations
        const stopReason = safeExtract_1.safeExtract.string(response, "candidates.0.finishReason") ||
            safeExtract_1.safeExtract.string(response, "finishReason") ||
            safeExtract_1.safeExtract.string(response, "stopReason") ||
            "END";
        return stopReason || "END";
    }
    catch (error) {
        Logger_1.logger.warning("Failed to extract stop reason:", error);
        return "END";
    }
}
//# sourceMappingURL=extractStopReason.js.map